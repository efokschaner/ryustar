apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: ryustar-ingress
  annotations:
    kubernetes.io/ingress.class: "nginx"
    # Increase these for websockets
    nginx.ingress.kubernetes.io/proxy-read-timeout: 3600
    nginx.ingress.kubernetes.io/proxy-send-timeout: 3600
spec:
  rules:
  - host: www.ryustar.invalid
    http:
      paths:
      - path:
        backend:
          serviceName: dev-appserver-service
          servicePort: 8080
  - host: gae-admin.ryustar.invalid
    http:
      paths:
      - path:
        backend:
          serviceName: dev-appserver-service
          servicePort: 8070
  - host: ws.ryustar.invalid
    http:
      paths:
      - path:
        backend:
          serviceName: websocket-service
          servicePort: {{ websocket-service-pod-listen-port }}
